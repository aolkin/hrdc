{% extends "venueapp/base.html" %}

{% load bt crispy_forms_tags bootstrap %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    {% if object %}
    <h3 class="text-center">{{ object }}</h3>
    {% else %}
    <h3 class="text-center">Start a New Application</h3>
    {% endif %}
  </div>
</div>
<div class="row justify-content-center">
  <form method="POST" class="col-md-8" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="no-form-label">
      <h5 class="mt-3">Select one or more venues to apply to:</h5>
      {{ venue_form|crispy }}
      {% if venue_form.errors %}
      <strong class="text-danger">Please select at least one venue.</strong>
      {% endif %}
    </div>
    <p class="text-muted mb-4">
      This application will be submitted to all selected venues simultaneously.
      {% if not object %}
      You can change the venues you are applying to later.
      {% endif %}
    </p>
    {% if object %}
    <div class="alert alert-danger venue-removal-warning">
      Removing venues will permanently delete all portions of your application specific to that venue (such as residency preferences, budgets, etc). Please make sure you intend to do so before saving your changes.
    </div>
    {% endif %}

    {{ show_form|crispy }}
    {{ app_form|crispy }}
    <button type="submit" class="btn btn-primary btn-block btn-lg">
      {% if object %}
      Save Changes
      {% else %}
      Create Application
      {% endif %}
    </button>
  </form>
</div>
{% endblock %}
